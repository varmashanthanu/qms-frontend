<div class="container" *ngIf="!isLoading; else loading">
  <mat-card *ngFor="let ticket of tickets" class="ticket-card">
    <mat-card-title>Ticket #{{ ticket.id }}</mat-card-title>
    <mat-card-content>
      <p>Status: {{ ticket.status }}</p>
      <p>Created At: {{ ticket.created_at | date:'short' }}</p>
    </mat-card-content>
    <mat-card-actions>
      <button mat-button color="primary" (click)="handleAction(ticket.id, 'call')">Call</button>
      <button mat-button color="accent" (click)="handleAction(ticket.id, 'serve')">Serve</button>
      <button mat-button (click)="handleAction(ticket.id, 'complete')">Complete</button>
      <button mat-button color="warn" (click)="handleAction(ticket.id, 'skip')">Skip</button>
      <button mat-button color="warn" (click)="handleAction(ticket.id, 'transfer')">Transfer</button>
    </mat-card-actions>
  </mat-card>
</div>

<ng-template #loading>
  <div class="loading">Loading tickets...</div>
</ng-template>
